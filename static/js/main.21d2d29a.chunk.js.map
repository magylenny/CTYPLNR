{"version":3,"sources":["AddButton.js","GlasgowMap.js","Spinner.js","Scale.js","SideButtons.js","Title.js","Header.js","index.js"],"names":["current","expression","mapCenter","zoomLevel","Spinner","type","color","height","width","React","Component","Scale","position","classname","Segment","inverted","style","background","Content","Grid","columns","padded","Column","facilities","key","text","value","borderColor","datazones","datazoneCoordinates","AddButton","props","handleOpen","setState","modalOpen","handleFacilityChange","event","data","addFacility","handleDataZoneChange","addDataZone","handleClose","geo","a","async","datacode","parseInt","state","substr","coords","push","sourcepolygon","turf","sourcecentroid","turfCentroid","neighbours","getNeighbours","points","getCoordinates","calculateTravelTimes","pairs","neighbouringDatazones","Set","selectedCode","n","range","currentkey","j","length","JSON","stringify","includes","add","Array","from","currentCode","polygon","centroid","coordinates","sourcepoint","destpoints","promises","times","axiosConfig","headers","dataPost","geometry","axios","post","then","res","minute","results","locations","properties","travel_time","time","Math","round","catch","err","console","log","Promise","all","calculatePTravelTimes","dataPost1","checkChanges","i","features","DataZone","CarTravelTimes","PublicTransportTravelTimes","parentCallback","populateDropdown","code","Name","geojson","this","Modal","size","trigger","Button","onClick","circular","icon","Icon","name","onClose","open","Header","className","Fragment","Dropdown","placeholder","fluid","selection","onChange","options","search","Actions","positive","labelPosition","content","Title","methodBoolean","dict","activeDomains","method","Group","vertical","active","changeDomain","textAlign","glasgow","car","city","changeMethod","Or","changeCity","L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","GlasgowMap","callbackFunction","childData","getGlasgow","isFetching","get","domain","stateCopy","Object","assign","url","previousDomain","document","title","map","Map","minZoom","center","zoom","TileLayer","attribution","GeoJSON","feature","weight","fillOpacity","onEachFeature","layer","bindPopup","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.21d2d29a.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Button, Icon, Modal, Dropdown} from \"semantic-ui-react\";\r\nimport Control from \"react-leaflet-control\";\r\nimport axios from 'axios';\r\nimport turfCentroid from \"@turf/centroid\";\r\nimport * as turf from \"@turf/helpers\";\r\n\r\n\r\n    const facilities = [{\r\n        key: 'GP',\r\n        text: 'GP',\r\n        value: 'GP',\r\n        style:{color:\"deepskyblue\", background:\"#243665\", borderColor:\"deepskyblue\"}\r\n    },\r\n        {\r\n            key: 'Primary School',\r\n            text: 'Primary School',\r\n            value: 'PrimarySchool',\r\n            style:{color:\"deepskyblue\", background:\"#243665\", borderColor:\"deepskyblue\"}\r\n        },\r\n        {\r\n            key: 'Secondary School',\r\n            text: 'Secondary School',\r\n            value: 'SecondarySchool',\r\n            style:{color:\"deepskyblue\", background:\"#243665\", borderColor:\"deepskyblue\"}\r\n        },\r\n        {\r\n            key: 'Post Office',\r\n            text: 'Post Office',\r\n            value: 'PostOffice',\r\n            style:{color:\"deepskyblue\", background:\"#243665\", borderColor:\"deepskyblue\"}\r\n        },\r\n        {\r\n            key: 'Shopping Facility',\r\n            text: 'Shopping Facility',\r\n            value: 'ShoppingFacilities',\r\n            style:{color:\"deepskyblue\", background:\"#243665\", borderColor:\"deepskyblue\"}\r\n        },\r\n    ];\r\n    const datazones = [];\r\n\r\n\r\n    let current;\r\n    let expression;\r\n    let datazoneCoordinates = {};\r\nlet promises = [];\r\nlet times = {};\r\n\r\n\r\nexport default class AddButton extends React.Component {\r\n\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            modalOpen : false,\r\n            addFacility: \"\",\r\n            addDataZone: \"\",\r\n\r\n        };\r\n    }\r\n    handleOpen = () => this.setState({ modalOpen: true });\r\n\r\n    handleFacilityChange = (event, data) => {\r\n        this.setState({addFacility: data.value});\r\n    };\r\n\r\n    handleDataZoneChange = (event, data) => {\r\n      this.setState({addDataZone: data.value});\r\n    };\r\n\r\n    handleClose = async (geo) => {\r\n        this.setState({modalOpen : false});\r\n        let datacode = parseInt(this.state.addDataZone.substr(1));\r\n        let coords = [];\r\n        coords.push(datazoneCoordinates[datacode]);\r\n        let sourcepolygon = turf.polygon(coords);\r\n        let sourcecentroid = turfCentroid(sourcepolygon);\r\n\r\n        let neighbours = this.getNeighbours();\r\n\r\n        let points = this.getCoordinates(neighbours);\r\n\r\n\r\n        this.calculateTravelTimes(sourcecentroid,points,geo);\r\n\r\n        // await this.checkChanges(times,geo);\r\n\r\n        //console.log(geo);\r\n       //\r\n\r\n    };\r\n\r\n    getNeighbours = () => {\r\n        let pairs;\r\n        let neighbouringDatazones = new Set();\r\n        let selectedCode = parseInt(this.state.addDataZone.substr(1));\r\n        pairs = datazoneCoordinates[selectedCode];\r\n\r\n        //looping through other data zone to check if points match with selected data zone\r\n        let range = 100;\r\n        let minus1 = -1;\r\n        let minusrange = range * minus1;\r\n        let padding = \"S0\";\r\n        //loop through data zones within a code range of given amount\r\n        for (var n = minusrange; n < range; n++) {\r\n            let currentkey = selectedCode + n;\r\n            //check selected datazone coordinates against other data zone coordinates\r\n            if(currentkey in datazoneCoordinates && (padding+currentkey != this.state.addDataZone)){\r\n            for (var j = 0; j < pairs.length; j++) {\r\n                    if ((JSON.stringify(datazoneCoordinates[currentkey]).includes(JSON.stringify(pairs[j])))) {\r\n                        neighbouringDatazones.add(\"S0\"+currentkey);\r\n                    }\r\n            }\r\n            }\r\n        }\r\n\r\n        return Array.from(neighbouringDatazones);\r\n    };\r\n    getCoordinates = (neighbours) => {\r\n\r\n        let currentCode;\r\n        let coordinates = [];\r\n        let polygon;\r\n        let centroid;\r\n        let pairs= {};\r\n        for(var a = 0; a < neighbours.length; a++) {\r\n            currentCode =neighbours[a];\r\n            let current = parseInt(currentCode.substr(1));\r\n            coordinates.push(datazoneCoordinates[current]);\r\n            polygon = turf.polygon(coordinates);\r\n            centroid = turfCentroid(polygon);\r\n            pairs[currentCode] = centroid;\r\n        }\r\n\r\n        return pairs;\r\n    };\r\n\r\n    calculateTravelTimes = async (sourcepoint, destpoints,geo) => {\r\n\r\n\r\n        let promises = [];\r\n        let times = {};\r\n\r\n\r\n        let axiosConfig = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'X-Application-Id': 'cd8dab5e',\r\n                'X-Api-Key': '3b67e6f052bc7121e2f6bcb917024443'\r\n            }\r\n        };\r\n\r\n        for (let key in destpoints) {\r\n            times[key] = {};\r\n            let dataPost = {\r\n                \"locations\": [\r\n                    {\r\n                        \"id\": \"Facility\",\r\n                        \"coords\": {\r\n                            \"lat\": sourcepoint.geometry.coordinates[1],\r\n                            \"lng\": sourcepoint.geometry.coordinates[0]\r\n                        }\r\n                    },\r\n                    {\r\n                        \"id\": \"DataZone centroid\",\r\n                        \"coords\": {\r\n                            \"lat\": destpoints[key].geometry.coordinates[1],\r\n                            \"lng\": destpoints[key].geometry.coordinates[0]\r\n                        }\r\n                    }\r\n                ],\r\n                \"departure_searches\": [\r\n                    {\r\n                        \"id\": \"departure search example\",\r\n                        \"departure_location_id\": \"Facility\",\r\n                        \"arrival_location_ids\": [\r\n                            \"DataZone centroid\"\r\n                        ],\r\n                        \"transportation\": {\r\n                            \"type\": \"driving\"\r\n                        },\r\n                        \"departure_time\": \"2020-02-20T10:00:00Z\",\r\n                        \"properties\": [\"travel_time\", \"distance\", \"route\"]\r\n                    }\r\n                ]\r\n            };\r\n\r\n            promises.push(\r\n                axios.post('https://api.traveltimeapp.com/v4/routes', dataPost, axiosConfig)\r\n                    .then((res) => {\r\n                        let minute = (res.data.results[0].locations[0].properties[0].travel_time) / 60;\r\n\r\n                        let time = Math.round(minute * 10) / 10;\r\n                        times[key][\"Car\"] = time;\r\n\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(\"AXIOS ERROR: \", err);\r\n                    })\r\n            );\r\n\r\n\r\n/*            dataPost.departure_searches[0].transportation.type = \"public_transport\";\r\n            promises.push(\r\n                axios.post('https://api.traveltimeapp.com/v4/routes', dataPost, axiosConfig)\r\n                    .then((res) => {\r\n                        let minute = (res.data.results[0].locations[0].properties[0].travel_time) / 60;\r\n\r\n                        let time = Math.round(minute * 10) / 10;\r\n                        times[key][\"PT\"] = time;\r\n\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(\"AXIOS ERROR: \", err);\r\n                    })\r\n            );*/\r\n        }\r\n\r\n        console.log(times);\r\n        Promise.all(promises).then(() =>this.calculatePTravelTimes(sourcepoint, destpoints,times,geo));\r\n    };\r\n    calculatePTravelTimes = async (sourcepoint, destpoints,times, geo) => {\r\n\r\n        let promises = [];\r\n\r\n        let axiosConfig = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'X-Application-Id': 'cd8dab5e',\r\n                'X-Api-Key': '3b67e6f052bc7121e2f6bcb917024443'\r\n            }\r\n        };\r\n\r\n        for (let key in destpoints) {\r\n\r\n            let dataPost1 = {\r\n                \"locations\": [\r\n                    {\r\n                        \"id\": \"Facility\",\r\n                        \"coords\": {\r\n                            \"lat\": sourcepoint.geometry.coordinates[1],\r\n                            \"lng\": sourcepoint.geometry.coordinates[0]\r\n                        }\r\n                    },\r\n                    {\r\n                        \"id\": \"DataZone centroid\",\r\n                        \"coords\": {\r\n                            \"lat\": destpoints[key].geometry.coordinates[1],\r\n                            \"lng\": destpoints[key].geometry.coordinates[0]\r\n                        }\r\n                    }\r\n                ],\r\n                \"departure_searches\": [\r\n                    {\r\n                        \"id\": \"departure search example\",\r\n                        \"departure_location_id\": \"Facility\",\r\n                        \"arrival_location_ids\": [\r\n                            \"DataZone centroid\"\r\n                        ],\r\n                        \"transportation\": {\r\n                            \"type\": \"public_transport\"\r\n                        },\r\n                        \"departure_time\": \"2020-02-20T10:00:00Z\",\r\n                        \"properties\": [\"travel_time\", \"distance\", \"route\"]\r\n                    }\r\n                ]\r\n            };\r\n\r\n            promises.push(\r\n                axios.post('https://api.traveltimeapp.com/v4/routes', dataPost1, axiosConfig)\r\n                    .then((res) => {\r\n                        let minute = (res.data.results[0].locations[0].properties[0].travel_time) / 60;\r\n\r\n                        let time = Math.round(minute * 10) / 10;\r\n                        times[key][\"PT\"] = time;\r\n\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(\"AXIOS ERROR: \", err);\r\n                    })\r\n            );\r\n        }\r\n\r\n\r\n        console.log(times);\r\n        Promise.all(promises).then(() =>this.checkChanges(times,geo));\r\n    };\r\n\r\n\r\n    checkChanges = async(times, geo)  => {\r\n        console.log(\"most leptem be\");\r\n\r\n        for (let key in times) {\r\n\r\n            for (let i = 0; i < geo.features.length; i++){\r\n                if(geo.features[i].properties.DataZone === key){\r\n                    //compare new time with old time for neighbours\r\n                    if(geo.features[i].properties.CarTravelTimes[this.state.addFacility] > times[key][\"Car\"]){\r\n\r\n                        geo.features[i].properties.CarTravelTimes[this.state.addFacility] = times[key][\"Car\"]\r\n                    }\r\n                    if(geo.features[i].properties.PublicTransportTravelTimes[this.state.addFacility] > times[key][\"PT\"]){\r\n\r\n                        geo.features[i].properties.PublicTransportTravelTimes[this.state.addFacility] = times[key][\"PT\"]\r\n                    }\r\n                }\r\n                //assign  0 travel time to data zone facility is located in\r\n                else if(geo.features[i].properties.DataZone === this.state.addDataZone) {\r\n\r\n                    geo.features[i].properties.CarTravelTimes[this.state.addFacility] = \"1.0\";\r\n                    geo.features[i].properties.PublicTransportTravelTimes[this.state.addFacility] = \"1.0\";\r\n                }\r\n                else{\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n        console.log(\"checkchanges finished\");\r\n        this.props.parentCallback(geo);\r\n    };\r\n\r\n    //to load all data zones in dropdown options\r\n   populateDropdown = (data) => {\r\n       let code;\r\n       let coords;\r\n       for (let i = 0; i < data.features.length; i++) {\r\n           current = data.features[i].properties;\r\n           expression = current.Name + \" (\" + current.DataZone + \")\";\r\n           datazones[i] = {\r\n               key: expression,\r\n               text: expression,\r\n               value: current.DataZone,\r\n               style:{color:\"deepskyblue\", background:\"#243665\", borderColor:\"deepskyblue\"},\r\n           };\r\n           //also populates datazone coordinates dictionary\r\n           code = parseInt(current.DataZone.substr(1));\r\n           coords = data.features[i].geometry.coordinates[0];\r\n           datazoneCoordinates[code] = coords;\r\n       }\r\n       return datazones;\r\n   };\r\n\r\n\r\n\r\n    render() {\r\n\r\n        const geojson = this.props.geo;\r\n\r\n        return(\r\n            <Control position=\"topright\" >\r\n                <Modal  size = \"tiny\"\r\n                    trigger={ <Button onClick = {this.handleOpen}\r\n                                      style = {{color: \"deepskyblue\", background:\"#243665\"}}\r\n                                      circular icon> <Icon name = \"plus\" size =\"large\"></Icon>   </Button>}\r\n                        onClose={this.handleClose}\r\n                        open={this.state.modalOpen}\r\n                       >\r\n                    <Modal.Header className = \"modalHeader\">\r\n                        <p>Adding facility</p>\r\n                    </Modal.Header>\r\n                    <Modal.Content className = \"modalContent\" >\r\n                        <React.Fragment >\r\n                    <Dropdown className = \"modalDropdown\"\r\n                        placeholder='Select Facility'\r\n                        fluid\r\n                        selection\r\n                              onChange = {this.handleFacilityChange}\r\n                        options={facilities}\r\n                    />\r\n                            {<br/>}\r\n\r\n                            <Dropdown className = \"modalDropdown\"\r\n                                placeholder='Select Data Zone'\r\n                                fluid\r\n                                search\r\n                                selection\r\n                                onChange = {this.handleDataZoneChange}\r\n                                options={this.populateDropdown(geojson)}\r\n                            />\r\n\r\n                        </React.Fragment>\r\n                    </Modal.Content>\r\n                    <Modal.Actions className = \"modalAction\">\r\n                        <Button className = \"modalButton\"\r\n                            onClick={()=> this.handleClose(geojson)}\r\n                            positive\r\n                            labelPosition='right'\r\n                            icon='checkmark'\r\n                            content='Done'\r\n                        />\r\n                    </Modal.Actions>\r\n            </Modal>\r\n            </Control>\r\n\r\n        );\r\n    }\r\n}","import React from 'react';\nimport { Map, TileLayer, GeoJSON, Marker} from 'react-leaflet';\nimport \"leaflet/dist/leaflet.css\";\nimport './index.css';\nimport Spinner from './Spinner';\nimport Scale from './Scale';\nimport AddButton from \"./AddButton\";\nimport SideButtons from \"./SideButtons\";\nimport Header from \"./Header\"\nimport axios from 'axios';\nimport 'semantic-ui-css/semantic.min.css'\nimport L from 'leaflet';\n\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\nlet mapCenter;\nlet zoomLevel;\nlet minZoomLevel;\nlet time = 0;\n\nconst tileLayerAtrribute = '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors';\nlet tileLayerUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n\nlet glasgow = \"https://api.npoint.io/aa3a9094c684db09d0f8\";\n\nlet methodBoolean = true;\nclass GlasgowMap extends React.Component {\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            isFetching: true,\n            geo: [],\n            domain: \"City\",\n            method: 'Car',\n            city: \"Glasgow\",\n            previousDomain:\"\",\n            activeDomains: {\n                \"City\": true,\n                \"GP\": false,\n                \"PrimarySchool\": false,\n                \"SecondarySchool\": false,\n                \"PostOffice\": false,\n                \"ShoppingFacilities\": false\n            },\n\n        };\n    }\n\n    callbackFunction = (childData) => {\n        this.setState({geo: childData});\n    };\n\n    componentDidMount() {\n        document.title = 'Glasgow Planner';\n        this.getGlasgow();\n    };\n\n    getGlasgow = () => {\n\n        this.setState({isFetching: true});\n        axios.get(glasgow).then(res => {\n            this.setState({\n                isFetching: false,\n                geo: res.data,\n                domain: 'City',\n            });\n        });\n    };\n\n    changeMethod = (method) => {\n        if(method === \"PublicTransport\" && (this.state.domain === \"PrimarySchool\" || this.state.domain === \"SecondarySchool\")){\n            this.changeDomain(\"City\");\n        }\n        this.setState({\n            method: method\n        });\n    };\n\n    changeDomain = (domain) => {\n        let stateCopy = Object.assign({}, this.state);\n        stateCopy.activeDomains[this.state.domain] = false;\n        stateCopy.domain = domain;\n        stateCopy.activeDomains[stateCopy.domain] = true;\n        this.setState(\n            stateCopy\n        );\n    };\n\n    changeCity = (city) => {\n        let url = \"\";\n        if (city === \"Glasgow\"){\n            url = \"https://api.npoint.io/aa3a9094c684db09d0f8\"\n        }\n        else{\n            url = \"https://api.npoint.io/f7c3649ae02eea7f5e92\"\n        }\n\n        this.setState({isFetching: true});\n        axios.get(url).then(res => {\n            this.setState({\n                isFetching: false,\n                geo: res.data,\n                city: city\n            });\n        });\n        methodBoolean = true;\n\n    };\n\n\n   render() {\n\n        console.log(\"re-rendering...\");\n\n\n        const { isFetching, geo, domain, method,city} = this.state;\n        if(city === \"Glasgow\"){\n            mapCenter = [55.8595, -4.2518];\n            zoomLevel = 12;\n            minZoomLevel = zoomLevel;\n\n        }\n        else{\n            mapCenter = [55.933251, -3.268267];\n            zoomLevel = 12;\n\n        }\n\n        let map;\n        if(isFetching){\n            map = <div className = \"spinner-container\"><Spinner></Spinner></div>\n        }\n        else{\n                map = <Map className=\"map\"\n                           minZoom = {zoomLevel}\n                           center={mapCenter}\n                           zoom={zoomLevel}\n                >\n                    <TileLayer\n                        attribution={tileLayerAtrribute}\n                        url={tileLayerUrl}\n                    />\n\n\n                    <AddButton\n                        geo={this.state.geo}\n                        parentCallback={this.callbackFunction}\n\n\n                    />\n\n                    <Scale/>\n\n                    <GeoJSON\n                        data={geo}\n                        style={getStyle}\n                        onEachFeature={onEachFeature}/>\n                </Map>\n\n        }\n\n\n        function getStyle(feature){\n\n            if(domain !== \"City\"){\n                if(method === \"Car\") {\n                    time = feature.properties.CarTravelTimes[domain];\n\n                    //console.log(feature.properties.CarTravelTimes, feature.properties.CarTravelTimes[\"SecondarySchool\"]);\n                }\n                else{\n                        time = feature.properties.PublicTransportTravelTimes[domain];\n                    }\n                }\n            else{\n                return{\n                color:\"black\",\n                    weight: 1.5,\n                    fillOpacity:0.4\n\n                 }\n            }\n\n                if(time >= 0 && time < 1){\n                    return{\n                        color: \"navy\",\n                        weight: 1.5\n                    }\n                }\n                else if(time >= 1 && time < 2){\n                    return{\n                        color:\"royalblue\",\n                        weight: 1.5,\n                        fillOpacity:0.5\n                    }\n                }\n                else if(time >= 2 && time < 3){\n                    return{\n                        color:\"seagreen\",\n                        weight: 1.5,\n                        fillOpacity:0.5\n                    }\n                }\n                else if(time >= 3 && time < 4){\n                    return{\n                        color:\"yellow\",\n                        weight: 1.5,\n                        fillOpacity:0.5\n                    }\n\n                }\n                else if(time >= 4 && time < 5){\n                    return{\n                        color:\"orange\",\n                        weight: 1.5,\n                        fillOpacity:0.5\n                    }\n\n                }\n                else if(time >= 5){\n                    return{\n                        color:\"maroon\",\n                        weight: 1.5,\n                        fillOpacity:0.5\n                    }\n            }\n                else{\n                return {\n                    color:\"white\",\n                    weight: 1.5,\n                    fillOpacity:0.75\n                }}\n            }\n\n       function onEachFeature (feature, layer) {\n           layer.bindPopup(\"Name: \" + feature.properties.Name + \"<br>\" + \"Time: \" + feature.properties.DataZone);\n       }\n\n       return (\n\n            <div className = \"main\"\n\n            >\n              <Header\n                  city = {this.state.city}\n                  method = {this.state.method}\n                  changeMethod = {this.changeMethod}\n                  changeCity = {this.changeCity}\n              />\n\n                {map}\n\n                <SideButtons\n                    method = {this.state.method}\n                    changeDomain = {this.changeDomain}\n                    activeDomains = {this.state.activeDomains}\n                    />\n                </div>\n        );\n    }\n}\n\nexport default GlasgowMap;\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\r\nimport Loader from 'react-loader-spinner'\r\nimport React from 'react';\r\nexport default class Spinner extends React.Component {\r\n\r\n    render() {\r\n        return(\r\n            <Loader\r\n                type=\"Oval\"\r\n                color=\"deepskyblue\"\r\n                height={300}\r\n                width={300}\r\n\r\n\r\n            />\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {Grid, Header, Segment} from \"semantic-ui-react\";\r\nimport Control from \"react-leaflet-control\";\r\nexport default class Scale extends React.Component {\r\n\r\n    render() {\r\n        return(\r\n            <Control position=\"bottomright\" classname >\r\n                <Segment inverted style={{background: \"#243665\", height:\"110px\"}}>\r\n                    <Header color = \"black\" inverted>\r\n                        <Header.Content style = {{color: \"deepskyblue\"}}>Travel times in minutes</Header.Content>\r\n                    </Header>\r\n                    <Grid  columns=\"equal\" style={{ width: '340px'}} padded>\r\n                        <Grid.Column style = {{background:'navy'}}>0 - 1</Grid.Column>\r\n                        <Grid.Column style = {{background:'royalblue'}}>1 - 2</Grid.Column>\r\n                        <Grid.Column style = {{background:'seagreen'}}>2 - 3</Grid.Column>\r\n                        <Grid.Column color = \"yellow\">3 - 4</Grid.Column>\r\n                        <Grid.Column style = {{background:'darkorange'}}>4 - 5</Grid.Column>\r\n                        <Grid.Column style = {{background:'maroon'}}>5+</Grid.Column>\r\n                    </Grid>\r\n                </Segment>\r\n\r\n            </Control>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {Button, Icon} from \"semantic-ui-react\";\r\nimport './index.css';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useRouteMatch,\r\n    useParams\r\n} from \"react-router-dom\";\r\nexport default class Title extends React.Component {\r\n\r\n\r\n    render() {\r\n\r\n        const dict = this.props.activeDomains;\r\n        let method = this.props.method;\r\n        let methodBoolean;\r\n        if (method === 'Car') {\r\n\r\n            methodBoolean = true;\r\n        } else {\r\n            methodBoolean = false;\r\n        }\r\n\r\n        return (\r\n            <Router>\r\n            <div className=\"side-bar-container\">\r\n                {\r\n                    methodBoolean ?\r\n\r\n                        <div>\r\n                            <Button.Group inverted vertical icon color=\"blue\" size=\"big\" className=\"side-bar\">\r\n                                <Button active={dict[\"City\"]} icon onClick={() => this.props.changeDomain('City')}><Icon\r\n                                    name='globe' size=\"big\"/>\r\n                                    <br/>\r\n                                    <br/>\r\n                                    City<br/>Map\r\n                                </Button>\r\n                                <Button active={dict[\"GP\"]} icon onClick={() => this.props.changeDomain('GP')}>\r\n                                    <Icon name='doctor' size=\"big\"/>\r\n                                    <br/>\r\n                                    <br/>\r\n                                    GPs\r\n                                </Button>\r\n                                <Button active={dict[\"PrimarySchool\"]} icon onClick={() => this.props.changeDomain('PrimarySchool')}>\r\n                                    <Icon name='building' size=\"big\"/>\r\n                                    <br/>\r\n                                    <br/>\r\n                                    Primary<br/> Schools\r\n                                </Button>\r\n                                <Button active={dict[\"SecondarySchool\"]} icon onClick={() => this.props.changeDomain('SecondarySchool')}>\r\n                                    <Icon name='building' size=\"big\"/>\r\n                                    <br/>\r\n                                    <br/>\r\n                                    Secondary<br/>Schools\r\n                                </Button>\r\n                                <Button active={dict[\"PostOffice\"]} icon onClick={() => this.props.changeDomain('PostOffice')}>\r\n                                    <Icon name='envelope' size=\"big\"/>\r\n                                    <br/>\r\n                                    <br/>\r\n                                    Post<br/> Offices\r\n                                </Button>\r\n                                <Button active={dict[\"ShoppingFacilities\"]} icon onClick={() => this.props.changeDomain('ShoppingFacilities')}>\r\n                                    <Icon name='shop' size=\"big\"/>\r\n                                    <br/>\r\n                                    <br/>\r\n                                    Shopping<br/> Facilities\r\n                                </Button>\r\n                            </Button.Group>\r\n                            <div className=\"restnormal\">\r\n                                <div className=\"footer\">\r\n                                    <p>Leonard Magyar - University of Strathcylde 2019/2020</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        :\r\n                        <div>\r\n                            <Button.Group inverted vertical icon color=\"blue\" size=\"big\" className=\"side-bar\">\r\n                                <Button active={dict[\"City\"]} icon onClick={() => this.props.changeDomain('City')}><Icon name='globe'\r\n                                                                                                      size=\"big\"/>\r\n\r\n                                    <br/>\r\n                                    <br/>\r\n                                    City<br/>Map\r\n                                </Button>\r\n                                <Button active={dict[\"GP\"]} icon onClick={() => this.props.changeDomain('GP')}>\r\n                                    <Icon name='doctor' size=\"big\"/>\r\n                                    <br/>\r\n                                    <br/>\r\n                                    GPs\r\n                                </Button>\r\n                                <Button active={dict[\"PostOffice\"]} icon onClick={() => this.props.changeDomain('PostOffice')}>\r\n                                    <Icon name='envelope' size=\"big\"/>\r\n                                    <br/>\r\n                                    <br/>\r\n                                    Post<br/> Offices\r\n                                </Button>\r\n                                <Button active={dict[\"ShoppingFacilities\"]} icon onClick={() => this.props.changeDomain('ShoppingFacilities')}>\r\n                                    <Icon name='shop' size=\"big\"/>\r\n                                    <br/>\r\n                                    <br/>\r\n                                    Shopping<br/> Facilities\r\n                                </Button>\r\n                            </Button.Group>\r\n\r\n                            <div className=\"rest\">\r\n                                <div className=\"footerrest\">\r\n                                    <p>Leonard Magyar - University of Strathcylde 2019/2020</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                }\r\n            </div>\r\n            </Router>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {Grid, Icon} from \"semantic-ui-react\";\r\nimport './index.css';\r\nexport default class Title extends React.Component {\r\n\r\n    render() {\r\n        return(\r\n            <Grid.Column textAlign='center' className = \"title\">\r\n                <div className = \"header-text\">\r\n                    <p>City Planner</p>\r\n                </div>\r\n                <div className = \"header-icon\">\r\n                    <Icon inverted  name='pen square' color = \"blue\" size = \"huge\" />\r\n                </div>\r\n            </Grid.Column>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {Button, Grid, Icon} from \"semantic-ui-react\";\r\nimport Title from './Title';\r\nimport './index.css';\r\nexport default class Header extends React.Component {\r\n\r\n    render() {\r\n        let city = this.props.city;\r\n        let method = this.props.method;\r\n        let glasgow;\r\n        let car;\r\n\r\n        if(city === \"Glasgow\"){\r\n            glasgow = true;\r\n        }\r\n        else{\r\n            glasgow=false;\r\n        }\r\n        if(method === \"Car\"){\r\n            car = true;\r\n        }\r\n        else{\r\n            car = false;\r\n        }\r\n        return (\r\n            <div className=\"header\">\r\n                <Grid columns=\"equal\">\r\n                    <Grid.Column>\r\n                        <div className=\"methodButtons\">\r\n                            <Button.Group inverted size='medium' color=\"blue\">\r\n                                <Button active = {car} icon onClick={ () => this.props.changeMethod('Car')}><Icon name='car'\r\n                                                                                      size=\"big\"/><br/><br/> Car</Button>\r\n                                <Button.Or/>\r\n                                <Button active = {!car} icon onClick={ () => this.props.changeMethod('PublicTransport')}><Icon name='bus'\r\n                                                                                                  size=\"big\"/><br/><br/>Public\r\n                                    Transport</Button>\r\n                            </Button.Group>\r\n                        </div>\r\n                    </Grid.Column>\r\n\r\n                    <Title/>\r\n\r\n                    <Grid.Column textAlign='right'>\r\n                        <div className=\"cityButtons\">\r\n                            <Button.Group inverted size='huge' color=\"blue\">\r\n                                <Button active = {glasgow} onClick={() => this.props.changeCity(\"Glasgow\")}>Glasgow</Button>\r\n                                <Button.Or/>\r\n                                <Button active = {!glasgow} onClick={() => this.props.changeCity(\"Edinburgh\")}>Edinburgh</Button>\r\n                            </Button.Group>\r\n                        </div>\r\n                    </Grid.Column>\r\n\r\n                </Grid>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport GlasgowMap from './GlasgowMap.js';\n\n\nReactDOM.render(<GlasgowMap >\n</GlasgowMap>, document.getElementById('root'));\n"],"sourceRoot":""}